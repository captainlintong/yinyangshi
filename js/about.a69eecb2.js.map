{"version":3,"sources":["webpack:///./src/views/About.vue?cc89","webpack:///./src/views/About.vue?6e6d","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?0b17","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","middleTouchStart","apply","arguments","middleTouchMove","middleTouchEnd","ref","_v","staticRenderFns","name","data","touchInfo","currentShow","created","mounted","methods","e","offsetWidth","opacity","component"],"mappings":"kIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,SAASC,GAAG,CAAC,WAAa,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,iBAAiBC,MAAM,KAAMC,YAAY,UAAY,SAASJ,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIa,gBAAgBF,MAAM,KAAMC,YAAY,SAAW,SAASJ,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIc,eAAeH,MAAM,KAAMC,cAAc,CAACR,EAAG,MAAM,CAACW,IAAI,KAAKT,YAAY,cAAc,CAACN,EAAIgB,GAAG,WAAWZ,EAAG,MAAM,CAACW,IAAI,YAAYT,YAAY,iBAAiB,CAACN,EAAIgB,GAAG,yBACnkBC,EAAkB,GCeP,GACfC,YACAC,KAFA,WAGA,OACAC,aACAC,mBAGAC,QARA,aAUAC,QAVA,aAWAC,SACAd,iBADA,SACAe,GAEA,4BAEA,wBACA,mBAEA,8BACA,+BAEAZ,gBAXA,SAWAY,GACA,6BAGA,mBAEA,gCACA,gCACA,+BAGA,uBACA,yBAGA,mDAEA,+CAEA,qDAEA,4EACA,oDAEA,qDACA,4CAEAX,eAtCA,WAuCA,yBAGA,MACA,EACA,wBAEA,2BACAY,qBACAC,IACA,2BAEAD,IACAC,KAGA,2BACAD,IACA,sBACAC,MAEAD,qBACAC,KAKA,UAEA,4EACA,oEAEA,8BACA,yDAEA,gCCrGmb,I,wBCQ/aC,EAAY,eACd,EACA7B,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAW,E","file":"js/about.a69eecb2.js","sourcesContent":["export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=69fa240f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"middle\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.middleTouchStart.apply(null, arguments)},\"touchmove\":function($event){$event.preventDefault();return _vm.middleTouchMove.apply(null, arguments)},\"touchend\":function($event){$event.preventDefault();return _vm.middleTouchEnd.apply(null, arguments)}}},[_c('div',{ref:\"cd\",staticClass:\"cd-wrapper\"},[_vm._v(\" sdd \")]),_c('div',{ref:\"lyricList\",staticClass:\"lyric-wrapper\"},[_vm._v(\" sffdsfdsfdsf \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"middle\" @touchstart.prevent=\"middleTouchStart\"\n    @touchmove.prevent=\"middleTouchMove\"\n    @touchend.prevent=\"middleTouchEnd\">\n    <div class=\"cd-wrapper\" ref=\"cd\">\n      sdd\n    </div>\n    <div class=\"lyric-wrapper\" ref=\"lyricList\">\n      sffdsfdsfdsf\n    </div>\n\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'test',\n  data () {\n    return {\n      touchInfo: {},\n      currentShow: 'cd'\n    }\n  },\n  created () {\n  },\n  mounted () {},\n  methods: {\n    middleTouchStart (e) {\n      // touch开始时,将touchInfo对象设置为已初始化状态\n      this.touchInfo.initiated = true\n      // 用来判断是否是一次移动\n      this.touchInfo.moved = false\n      const touch = e.touches[0]\n      // 记录touch位置的横坐标与纵坐标\n      this.touchInfo.startX = touch.pageX\n      this.touchInfo.startY = touch.pageY\n    },\n    middleTouchMove (e) {\n      if (!this.touchInfo.initiated) {\n        return\n      }\n      const touch = e.touches[0]\n      // 横坐标与纵坐标的偏移\n      const deltaX = touch.pageX - this.touchInfo.startX\n      const deltaY = touch.pageY - this.touchInfo.startY\n      if (Math.abs(deltaY) > Math.abs(deltaX)) {\n        return\n      }\n      if (!this.touchInfo.moved) {\n        this.touchInfo.moved = true\n      }\n      // 判断当前显示的是cd还是歌词,如果是cd,则当前左偏移值为0,否则偏移值为-window.innerWidth\n      const left = this.currentShow === 'cd' ? 0 : -window.innerWidth\n      // 求偏移值\n      const offsetWidth = Math.min(0, Math.max(-window.innerWidth, left + deltaX))\n      // 求偏移值占可视区域的百分比,用于判断是否应该切换显示状态\n      this.touchInfo.percent = Math.abs(offsetWidth / window.innerWidth)\n      // 移动时歌词模块的偏移效果\n      this.$refs.lyricList.$el.style.transform = `translate3d(${offsetWidth}px,0,0)`\n      this.$refs.lyricList.$el.style.transitionDuration = 0\n      // 移动时CD模块的淡出效果\n      this.$refs.cd.style.opacity = 1 - this.touchInfo.percent\n      this.$refs.cd.style.transitionDuration = 0\n    },\n    middleTouchEnd () {\n      if (!this.touchInfo.moved) {\n        return\n      }\n      let offsetWidth\n      let opacity\n      if (this.currentShow === 'cd') {\n        // 移动百分比大于屏幕一半,则切换显示状态\n        if (this.touchInfo.percent > 0.5) {\n          offsetWidth = -window.innerWidth\n          opacity = 0\n          this.currentShow = 'lyric'\n        } else {\n          offsetWidth = 0\n          opacity = 1\n        }\n      } else {\n        if (this.touchInfo.percent < 0.5) {\n          offsetWidth = 0\n          this.currentShow = 'cd'\n          opacity = 1\n        } else {\n          offsetWidth = -window.innerWidth\n          opacity = 0\n        }\n      }\n      // 最终状态的设置\n      // 动画时间\n      const time = 300\n      // touch完毕后歌词模块应该放置的位置\n      this.$refs.lyricList.$el.style.transform = `translate3d(${offsetWidth}px,0,0)`\n      this.$refs.lyricList.$el.style.transitionDuration = `${time}ms`\n      // touch完毕后CD模块的透明度\n      this.$refs.cd.style.opacity = opacity\n      this.$refs.cd.style.transitionDuration = `${time}ms`\n      // 一次touch完成后,重置touchInfo对象尚未初始化状态\n      this.touchInfo.initiated = false\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.middle {\n  width: 100%;\n  height: 100%;\n  .cd-wrapper {\n    display: inline-block;\n  }\n  .lyric-wrapper {\n    display: inline-block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=69fa240f&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=69fa240f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69fa240f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}